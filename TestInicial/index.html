<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <title>2D</title>

        <style>
             body {
                
                 background-image: url('pattern.png'); 
             }
        </style>
    </head>    
    <body>
        <div class="container">
            <canvas id="game" class="background-canvas mt-3 mr-3" width="1024" height="672">
                Your browser doesn't include support for the canvas tag.
            </canvas>
        </div>                        
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script type="text/javascript">
            var canvas = document.getElementById('game');
            var ctx = canvas.getContext('2d');
            var tilesetImage = new Image();
            var tilesetFondo = new Image();
            var tilesetTI = new Image();
            var tilesetFactory = new Image();
            var fgi_piso = new Image();
            var fgi_reja = new Image();
            var fgi_auto = new Image();
            var fgi_edificio = new Image();
            var compras_fi = new Image();
            var compras_fi_obj = new Image();
            var exterior_calle = new Image();
            var exterior_fuente = new Image();
            var produccion_obj = new Image();
            var almacen_obj = new Image();
            var imageSingle = 1;
            var uniqueTile = 0;
        
            var map = [
             [3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225],
             [31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625],
             [31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621],
             [31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625],
             [31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621],
             [31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625,31626,31623,31624,31625],
             [31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621,31622,31619,31620,31621],
             [31626,3161223,3161224,3161225,3161226,3161223,3161224,31623,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,3161224,3161225,3161226,3161223,31624,31625,31626,3161223,3161224,3161225,3161226,3161223,3161224,3161225],
             [31626,31623,31624,31625,31626,31623,31624,31625,812024,812019,812019,812019,812019,812019,812019,812019,812019,812019,812019,812025,716199,71619,31624,31625,31626,71619,71619,71619,71619,71619,71619,716194],
             [31622,31619,31620,31621,31622,31619,31620,31621,812023,81209,81209,81209,81209,81209,81209,81209,81209,81209,81209,812026,716129,752024,752019,752019,752019,752023,7163,720199,72019,72019,72019,720194],
             [31626,31623,31624,31625,31626,31623,31624,31625,81139,81913,81913,81134,81139,81913,81913,81134,81913,81913,81913,81134,716129,752025,75209,75209,75209,752026,7163,720129,7203,7209,7203,720124],
             [31622,31619,31620,31621,31622,31619,31620,31621,81139,81913,81913,81134,81139,81913,81913,81134,81913,81913,81913,81134,716129,75129,753,753,753,75124,7163,720129,720124,7163,720129,720124],
             [31626,1161223,1161224,1161225,1161226,1161223,1161224,31625,8199,819,819,8194,8199,819,819,8194,8199,819,819,8194,716129,75129,75318,7533,75316,75124,7163,720129,720124,7163,720129,720124],
             [31622,31619,31620,31621,31622,31619,31620,31621,873,873,823,823,823,823,823,823,823,823,873,873,716129,7599,75318,7533,75316,7594,7163,720129,720124,7163,720129,720124],
             [31626,31623,31624,31625,31626,31623,31624,31625,873,873,833,833,833,833,833,833,833,823,873,873,716129,7163,7163,7163,7163,7163,7163,720129,720124,7163,720129,720124],
             [31622,31619,31620,31621,31622,31619,31620,31621,873,873,833,833,86199,86199,86194,833,833,823,873,873,716129,7163,7163,7163,7163,7163,7163,720129,7203,72019,7203,720124],
             [31626,31623,31624,31625,31626,31623,31624,31625,873,873,833,833,86129,863,86124,833,833,823,873,873,716129,7163,7163,7163,7163,7163,7163,72099,7209,7209,7209,72094],
             [31622,31619,31620,31621,31622,31619,31620,31621,873,873,833,833,833,833,833,833,833,823,873,873,716129,7163,7163,7163,7163,7163,7163,7163,7163,7163,7163,716124],
             [873,873,873,873,873,873,873,873,873,873,83163,83163,83163,83163,83163,83163,83163,823,823,823,71699,7169,7169,7169,7169,7169,7169,7169,7169,7169,7169,71694],
             [64,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,80],
             [112,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,102],
            ];      
            
            var objetos = [
             [32129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,32124],
             [32129,-1,-1,-1,-1,-1,-1,-1,459,454,45913,-1,459,454,45913,-1,61115,61116,-1,61115,63198,63198,63198,63198,63198,63198,63198,63198,63198,63198,61116,32124],
             [32129,5139,5134,-1,5139,5134,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,63922,63422,-1,63922,61111,6398,6398,6398,6398,6398,6398,6398,6398,61114,63422,32124],
             [32129,512121,-1,512122,-1,512121,-1,-1,459,454,45913,-1,459,454,45913,-1,63922,63422,-1,63922,63422,-1,-1,-1,-1,-1,-1,-1,-1,63922,63422,32124],
             [32129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,63922,63422,-1,63922,63422,-1,-1,61115,63198,63198,63198,63198,63198,61113,63422,32124],
             [32129,5139,5134,-1,5139,5134,-1,-1,459,454,45913,-1,459,454,45913,-1,63922,61112,63198,61113,63422,-1,-1,63922,61111,6398,6398,6398,6398,6398,61118,32124],
             [32129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,61117,6398,6398,6398,61118,-1,-1,63922,63422,-1,-1,-1,-1,-1,-1,32124],
             [32129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,63922,63422,-1,-1,-1,-1,-1,-1,32124],
             [32129,-1,-1,-1,-1,-1,-1,32124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718199,71819,-1,63922,63422,71819,71819,71819,71819,71819,71819,718194],
             [32129,-1,-1,-1,-1,-1,-1,32124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [32129,-1,-1,-1,-1,-1,-1,32124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [32129,-1,-1,-1,-1,-1,-1,32124,-1,-1,-1,-1,-1,811624,811625,-1,-1,-1,-1,-1,718129,-1,7522,-1,7522,-1,-1,-1,-1,-1,-1,718124],
             [12129,-1,-1,-1,-1,-1,-1,32124,-1,-1,-1,-1,-1,811623,811626,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [12129,-1,-1,-1,-1,-1,-1,12124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [12129,-1,-1,-1,-1,-1,-1,12124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [12129,-1,-1,-1,-1,-1,-1,12124,-1,-1,-1,-1,-1,8653,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [12129,-1,-1,-1,-1,-1,-1,12124,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [12129,12912,12912,12912,12912,12912,12912,12124,-1,-1,-1,-1,8699,869,8694,-1,-1,-1,-1,-1,718129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,718124],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,822,8229,8224,73199,7319,7319,7319,-1,-1,-1,7319,7319,7319,7319,73194],
             [8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319,8319],
             [839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839,839],
            ];     
            
            var objetos_capa = [
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,531,532,-1,533,531,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,532,533,-1,531,532,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [12912,-1,-1,-1,-1,-1,-1,12912,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
             [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
            ];      
        
            canvas.addEventListener('click', function(event) {
                var rect = 10
                var coord = {x: event.clientX - rect.left, y: event.clientY - rect.top};
                console.log(coord)
            })
        
            window.onload = function () {
                var phrase = "Click or tap the screen to start the game";
                ctx.font = 'bold 16px Arial, sans-serif';
                ctx.fillStyle = '#FFFFFF';
                //ctx.mozImageSmoothingEnabled = false;
                //ctx.fillText (phrase, 10, 30);
        
                tilesetImage.src = 'tileset32.png';
                tilesetTI.src = 'icon1.png';
                tilesetFactory.src = 'factory_reja.png'
        
                tilesetFondo.src = 'fondo.png';
                tilesetFondo.onload = drawImage;
            }                                
        
            function drawImage() {
                var tileSize = 32;       // The size of a tile (32Ã—32)
                var rowTileCount = 21;   // The number of tiles in a row of our background
                var colTileCount = 32;   // The number of tiles in a column of our background
                var imageNumTiles = 16;  // The number of tiles per row in the tileset image   
                var imageTI = 3;
                var imageqty = 16;
                var imagecity = 37;
                var imagefactory = 14;
                
                var tileSet = tilesetFondo;
        
                for (var r = 0; r < rowTileCount; r++) {
                    for (var c = 0; c < colTileCount; c++) {
                        var tile = map[ r ][ c ];
                        var stile = tile + "";
          
                        if(tile >= 200 && tile <= 250) {
                            imageqty = imageTI
                            tileSet = tilesetTI
                            tile = tile - 200 
                        } else if(stile.startsWith('7')) {
                            fgi_piso = new Image()
                            fgi_piso.src = 'fgi/'+stile + ".png"
                            tileSet = fgi_piso
                            imageqty = imageSingle
                            tile = uniqueTile
                        } else if(stile.startsWith('8') && tile > 100) {
                            imageqty = imageSingle
                            exterior_calle = new Image()
                            exterior_calle.src = 'exterior/' + stile + '.png'
                            tileSet = exterior_calle
                            tile = uniqueTile
                        } else if(stile.startsWith('3') && tile > 300) {
                            console.log("entro a compras")
                            imageqty = imageSingle
                            compras_fi = new Image()
                            compras_fi.src = 'compras/'+stile+'.png'
                            tileSet = compras_fi
                            tile = uniqueTile
                        } else if(stile.startsWith('1') && tile > 10000) {
                            console.log("entro a fi")
                            imageqty = imageSingle
                            compras_fi = new Image()
                            compras_fi.src = 'fi/'+stile+'.png'
                            tileSet = compras_fi
                            tile = uniqueTile
                        } else if(tile >= 1000) {
                            imageqty = imagecity
                            tileSet = tilesetImage
                            tile = tile - 1000            
                        } else {
                            imageqty = imageNumTiles
                            tileSet = tilesetFondo
                        }
        
                        var tileRow = (tile / imageqty) | 0; // Bitwise OR operation
                        var tileCol = (tile % imageqty) | 0;
        
                        ctx.drawImage(tileSet, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize+2, tileSize+2);
        
                        var tileObj = objetos[r][c];
                        if(tileObj != -1) {
                            console.log("enter obj " +  tileObj)
                            var stileObj = tileObj + ""
                            if(tileObj >= 1000 && tileObj < 2000) {
                                imageqty = imagecity
                                tileSet = tilesetImage
                                tileObj = tileObj - 1000
                            } else if(tileObj >= 2000 && tileObj < 2005) {
                                imageqty = imageSingle                               
                                tileSet = tilesetFactory
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('7')) {
                                imageqty = imageSingle
                                fgi_reja = new Image()
                                fgi_reja.src = 'fgi/' + stileObj + '.png'
                                tileSet = fgi_reja
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('8')) {
                                imageqty = imageSingle
                                exterior_calle = new Image()
                                exterior_calle.src = 'exterior/' + stileObj + '.png'
                                tileSet = exterior_calle
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('1') && tileObj > 10000) {
                                console.log("entro a fi obj")
                                imageqty = imageSingle
                                compras_fi_obj = new Image()
                                compras_fi_obj.src = 'fi/'+stileObj+'.png'
                                tileSet = compras_fi_obj
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('3') && tileObj > 300) {
                                console.log("entro a compras obj")
                                imageqty = imageSingle
                                compras_fi_obj = new Image()
                                compras_fi_obj.src = 'compras/'+stileObj+'.png'
                                tileSet = compras_fi_obj
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('6') && tileObj > 600) {
                                console.log("entro a produccion obj")
                                imageqty = imageSingle
                                produccion_obj = new Image()
                                produccion_obj.src = 'produccion/'+stileObj+'.png'
                                tileSet = produccion_obj
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('4') && tileObj > 400) {
                                console.log("entro a almacen obj")
                                imageqty = imageSingle
                                produccion_obj = new Image()
                                produccion_obj.src = 'almacenmp/'+stileObj+'.png'
                                tileSet = produccion_obj
                                tileObj = uniqueTile 
                            } else if(stileObj.startsWith('5') && tileObj > 500) {
                                console.log("entro a BOOM obj")
                                imageqty = imageSingle
                                produccion_obj = new Image()
                                produccion_obj.src = 'bom/'+stileObj+'.png'
                                tileSet = produccion_obj
                                tileObj = uniqueTile 
                            }
        
                            tileRow = (tileObj / imageqty) | 0
                            tileCol = (tileObj % imageqty) | 0
                            ctx.drawImage(tileSet, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize, tileSize);
                        }
        
                        tileObj = objetos_capa[r][c];
                        if(tileObj != -1) {
                            console.log("enter obj " +  tileObj)
                            var stileObj = tileObj + ""
                            if(tileObj >= 1000 && tileObj < 2000) {
                                imageqty = imagecity
                                tileSet = tilesetImage
                                tileObj = tileObj - 1000
                            } else if(tileObj >= 2000 && tileObj < 2005) {
                                imageqty = imageSingle                               
                                tileSet = tilesetFactory
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('7')) {
                                imageqty = imageSingle
                                fgi_reja = new Image()
                                fgi_reja.src = 'fgi/' + stileObj + '.png'
                                tileSet = fgi_reja
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('8')) {
                                imageqty = imageSingle
                                exterior_calle = new Image()
                                exterior_calle.src = 'exterior/' + stileObj + '.png'
                                tileSet = exterior_calle
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('1') && tileObj > 10000) {
                                console.log("entro a fi obj")
                                imageqty = imageSingle
                                compras_fi_obj = new Image()
                                compras_fi_obj.src = 'fi/'+stileObj+'.png'
                                tileSet = compras_fi_obj
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('6') && tileObj > 600) {
                                console.log("entro a compras obj")
                                imageqty = imageSingle
                                produccion_obj = new Image()
                                produccion_obj.src = 'produccion/'+stileObj+'.png'
                                tileSet = produccion_obj
                                tileObj = uniqueTile
                            } else if(stileObj.startsWith('5') && tileObj > 500) {
                                console.log("entro a bom obj")
                                imageqty = imageSingle
                                produccion_obj = new Image()
                                produccion_obj.src = 'bom/'+stileObj+'.png'
                                tileSet = produccion_obj
                                tileObj = uniqueTile
                            }
        
        
                            tileRow = (tileObj / imageqty) | 0
                            tileCol = (tileObj % imageqty) | 0
                            ctx.drawImage(tileSet, (tileCol * tileSize), (tileRow * tileSize), tileSize, tileSize, (c * tileSize), (r * tileSize), tileSize, tileSize);
                        }
                    
                    }
                }
            }
        </script>
    </body>
</html> 